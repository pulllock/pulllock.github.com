<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta name="generator" content="Hugo 0.67.1" />
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<style type=text/css>body{font-family:monospace;}</style>
	<title>Time Stream</title>
	
	
	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="alternate" type="application/rss+xml" href="/index.xml" title="Time Stream">

</head>
<body>
	<header>
	=================<br>
	== <a href="https://cxis.me/">Time Stream</a> ==<br>
	=================
	<div style="float: right;">一个小学生</div><br>
	<p>
	<nav>
			<a href="/"><b>Start</b></a>.
			
			
			<a href="/posts/"><b>Posts</b></a>.
			
			<a href="/categories"><b>Categories</b></a>.
			
			<a href="/tags"><b>Tags</b></a>.
			
	</nav>
	</p>
	
</header>

	
	<main>
		
		
			<article>
	<h1><a href="https://cxis.me/2017/03/26/Dubbo%E4%B8%AD%E9%9B%86%E7%BE%A4Cluster%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%AE%B9%E9%94%99%E8%B7%AF%E7%94%B1%E8%A7%A3%E6%9E%90/">Dubbo中集群Cluster，负载均衡，容错，路由解析</a></h1>
	<b><time>2017-03-26 12:12:49</time></b>
	
	<a href="/tags/dubbo%E9%9B%86%E7%BE%A4">dubbo集群</a>
	
	<a href="/tags/dubbo%E5%AE%B9%E9%94%99">dubbo容错</a>
	
	<a href="/tags/dubbo%E8%B7%AF%E7%94%B1">dubbo路由</a>
	
	<a href="/tags/dubbo%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">dubbo负载均衡</a>
	
	<a href="/tags/dubbo%E6%BA%90%E7%A0%81">dubbo源码</a>
	
	<div>
		<p>Dubbo中的Cluster可以将多个服务提供方伪装成一个提供方，具体也就是将Directory中的多个Invoker伪装成一个Invoker，在伪装的过程中包含了容错的处理，负载均衡的处理和路由的处理。这篇文章介绍下集群相关的东西，开始先对着文档解释下容错模式，负载均衡，路由等概念，然后解析下源码的处理。（稍微有点乱，心情不太好，不适合分析源码。）</p>
		
			<a href="https://cxis.me/2017/03/26/Dubbo%E4%B8%AD%E9%9B%86%E7%BE%A4Cluster%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%AE%B9%E9%94%99%E8%B7%AF%E7%94%B1%E8%A7%A3%E6%9E%90/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/03/24/Java%E5%9F%BA%E7%A1%80%E4%B9%8B%E8%87%AA%E6%97%8B%E9%94%81%E4%BB%8B%E7%BB%8D/">Java基础之自旋锁介绍</a></h1>
	<b><time>2017-03-24 23:20:07</time></b>
	
	<div>
		<p>为了更好的学习Java中的AQS，熟悉下自旋锁、排号自旋锁、MCS锁、CLH锁相关的知识。</p>
		
			<a href="https://cxis.me/2017/03/24/Java%E5%9F%BA%E7%A1%80%E4%B9%8B%E8%87%AA%E6%97%8B%E9%94%81%E4%BB%8B%E7%BB%8D/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/03/24/Java%E5%9F%BA%E7%A1%80%E4%B9%8B%E7%AE%A1%E7%A8%8B%E4%BB%8B%E7%BB%8D/">Java基础之管程介绍</a></h1>
	<b><time>2017-03-24 20:40:03</time></b>
	
	<div>
		<p>为了更好的学习Java中的AQS，先熟悉下管程以及条件变量相关的知识。</p>
		
			<a href="https://cxis.me/2017/03/24/Java%E5%9F%BA%E7%A1%80%E4%B9%8B%E7%AE%A1%E7%A8%8B%E4%BB%8B%E7%BB%8D/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/03/23/Java%E5%9F%BA%E7%A1%80%E4%B9%8BSemaphore%E4%BB%8B%E7%BB%8D/">Java基础之Semaphore介绍</a></h1>
	<b><time>2017-03-23 19:41:32</time></b>
	
	<div>
		<p>为了更好的学习Java中的AQS，先回顾下基础知识semaphore信号量。</p>
		
			<a href="https://cxis.me/2017/03/23/Java%E5%9F%BA%E7%A1%80%E4%B9%8BSemaphore%E4%BB%8B%E7%BB%8D/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/03/23/Java%E5%9F%BA%E7%A1%80%E4%B9%8BMutex%E4%BB%8B%E7%BB%8D/">Java基础之Mutex介绍</a></h1>
	<b><time>2017-03-23 17:00:43</time></b>
	
	<div>
		<p>为了更好的学习Java中的AQS，先回顾下基础知识mutex互斥锁。</p>
		
			<a href="https://cxis.me/2017/03/23/Java%E5%9F%BA%E7%A1%80%E4%B9%8BMutex%E4%BB%8B%E7%BB%8D/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/03/21/Dubbo%E4%B8%AD%E6%9C%8D%E5%8A%A1%E6%B6%88%E8%B4%B9%E8%80%85%E5%92%8C%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B/">Dubbo中服务消费者和服务提供者之间的请求和响应过程</a></h1>
	<b><time>2017-03-21 23:58:13</time></b>
	
	<a href="/tags/dubbo%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B">dubbo请求响应过程</a>
	
	<a href="/tags/dubbo%E6%BA%90%E7%A0%81">dubbo源码</a>
	
	<div>
		<p>服务提供者初始化完成之后，对外暴露Exporter。服务消费者初始化完成之后，得到的是Proxy代理，方法调用的时候就是调用代理。</p>
<p>服务消费者经过初始化之后，得到的是一个动态代理类，InvokerInvocationHandler，包含MockClusterInvoker，MockClusterInvoker包含一个RegistryDirectory和FailoverClusterInvoker。</p>
		
			<a href="https://cxis.me/2017/03/21/Dubbo%E4%B8%AD%E6%9C%8D%E5%8A%A1%E6%B6%88%E8%B4%B9%E8%80%85%E5%92%8C%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/03/21/Dubbo%E4%B8%AD%E6%B6%88%E8%B4%B9%E8%80%85%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E8%BF%87%E7%A8%8B%E8%A7%A3%E6%9E%90/">Dubbo中消费者初始化的过程解析</a></h1>
	<b><time>2017-03-21 20:30:29</time></b>
	
	<a href="/tags/dubbo%E6%B6%88%E8%B4%B9%E8%80%85%E5%88%9D%E5%A7%8B%E5%8C%96">dubbo消费者初始化</a>
	
	<a href="/tags/dubbo%E6%BA%90%E7%A0%81">dubbo源码</a>
	
	<div>
		<p>首先还是Spring碰到dubbo的标签之后，会使用parseCustomElement解析dubbo标签，使用的解析器是dubbo的DubboBeanDefinitionParser，解析完成之后返回BeanDefinition给Spring管理。</p>
<p>服务消费者端对应的是ReferenceBean，实现了ApplicationContextAware接口，Spring会在Bean的实例化那一步回调setApplicationContext方法。也实现了InitializingBean接口，接着会回调afterPropertySet方法。还实现了FactoryBean接口，实现FactoryBean可以在后期获取bean的时候做一些操作，dubbo在这个时候做初始化。另外ReferenceBean还实现了DisposableBean，会在bean销毁的时候调用destory方法。</p>
		
			<a href="https://cxis.me/2017/03/21/Dubbo%E4%B8%AD%E6%B6%88%E8%B4%B9%E8%80%85%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E8%BF%87%E7%A8%8B%E8%A7%A3%E6%9E%90/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/03/19/Dubbo%E4%B8%AD%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81%E7%9A%84%E8%A7%A3%E6%9E%90/">Dubbo中编码和解码的解析</a></h1>
	<b><time>2017-03-19 23:25:51</time></b>
	
	<a href="/tags/dubbo%E7%BC%96%E8%A7%A3%E7%A0%81">dubbo编解码</a>
	
	<a href="/tags/dubbo%E6%BA%90%E7%A0%81">dubbo源码</a>
	
	<div>
		（这里做的解析不是很详细，等到走完整个流程再来解析）Dubbo中编解码的工作由Codec2接口的实现来处理，回想一下第一次接触到Codec2
		
			<a href="https://cxis.me/2017/03/19/Dubbo%E4%B8%AD%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81%E7%9A%84%E8%A7%A3%E6%9E%90/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/03/19/Netty3%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B5%81%E7%A8%8B%E7%AE%80%E4%BB%8B/">Netty3服务端流程简介</a></h1>
	<b><time>2017-03-19 20:27:39</time></b>
	
	<a href="/tags/Netty3">Netty3</a>
	
	<a href="/tags/Netty3%E6%B5%81%E7%A8%8B">Netty3流程</a>
	
	<div>
		<p>在学习Dubbo的时候需要学习Netty的流程等，在此做一个简单的入门学习。Dubbo中使用的是Netty3，所以这里说的都是Netty3。</p>
<p>Netty3可以看成是对Reactor的实现，所以先简单看下Reactor模式。</p>
		
			<a href="https://cxis.me/2017/03/19/Netty3%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B5%81%E7%A8%8B%E7%AE%80%E4%BB%8B/">Read more...</a>
		
	</div>
</article>

		
			<article>
	<h1><a href="https://cxis.me/2017/02/19/Dubbo%E4%B8%AD%E6%9A%B4%E9%9C%B2%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%BF%87%E7%A8%8B%E8%A7%A3%E6%9E%90/">Dubbo中暴露服务的过程解析</a></h1>
	<b><time>2017-02-19 00:46:14</time></b>
	
	<a href="/tags/dubbo%E6%9C%8D%E5%8A%A1%E6%9A%B4%E9%9C%B2">dubbo服务暴露</a>
	
	<a href="/tags/dubbo%E6%BA%90%E7%A0%81">dubbo源码</a>
	
	<div>
		<p>dubbo暴露服务有两种情况，一种是设置了延迟暴露（比如delay=&quot;5000&rdquo;），另外一种是没有设置延迟暴露或者延迟设置为-1（delay=&rdquo;-1&rdquo;）：</p>
<ul>
<li>设置了延迟暴露，dubbo在Spring实例化bean（initializeBean）的时候会对实现了InitializingBean的类进行回调，回调方法是afterPropertySet()，如果设置了延迟暴露，dubbo在这个方法中进行服务的发布。</li>
<li>没有设置延迟或者延迟为-1，dubbo会在Spring实例化完bean之后，在刷新容器最后一步发布ContextRefreshEvent事件的时候，通知实现了ApplicationListener的类进行回调onApplicationEvent，dubbo会在这个方法中发布服务。</li>
</ul>
<p>但是不管延迟与否，都是使用ServiceConfig的export()方法进行服务的暴露。使用export初始化的时候会将Bean对象转换成URL格式，所有Bean属性转换成URL的参数。</p>
		
			<a href="https://cxis.me/2017/02/19/Dubbo%E4%B8%AD%E6%9A%B4%E9%9C%B2%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%BF%87%E7%A8%8B%E8%A7%A3%E6%9E%90/">Read more...</a>
		
	</div>
</article>

		
		<div>

	<a href="/page/19/">Previous Page</a>

20 of 25

	<a href="/page/21/">Next Page</a>

</div>

	</main>

	<footer>
	<p>&copy; 2021 <a href="https://cxis.me/"><b>cxis</b></a>.
	<a href="https://gohugo.io/"><b>Hugo</b></a>.
	<a href="https://github.com/colorchestra/smol"><b>Smol</b></a>.
	<a href="https://github.com/dachengxi"><b>Github</b></a>.
	</p>
</footer>

</body>
<script>
    window.MathJax = {
    tex: {
      tags: 'ams',  
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
  };
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.1.2/es5/tex-mml-svg.min.js" integrity="sha512-cvY8FLZ100SA0lUHyX38BDEr1rz0AKP6Iz+t5yfOPOyuKX72RNHIuPGH/+ScEsbKBhngYhKJSaFbtKet0te1Sw==" crossorigin="anonymous"></script>
</html>
